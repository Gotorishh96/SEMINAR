from gtts import gTTS
from playsound import playsound
import os

# ------------------ Available Languages ------------------
languages = {
    "1": ("English", "en"),
    "2": ("Hindi", "hi"),
    "3": ("French", "fr"),
    "4": ("Spanish", "es"),
    "5": ("German", "de")
}

def show_languages():
    print("\nChoose a language:")
    for key, value in languages.items():
        print(f"{key}. {value[0]}")

# ------------------ Main Function ------------------
def main():
    print("üé§ Welcome to Text-to-Speech Converter üé§")

    # Input text
    text = input("Enter the text you want to convert to speech:\n")

    # Choose language
    show_languages()
    lang_choice = input("Enter the number for the language (default is English): ").strip()
    language_code = languages.get(lang_choice, ("English", "en"))[1]

    # Convert text to speech
    try:
        tts = gTTS(text=text, lang=language_code)
        print("‚úÖ Text converted successfully!")

        # Save file
        filename = input("Enter a name for your audio file (without .mp3): ").strip() + ".mp3"
        tts.save(filename)
        print(f"üìÅ Audio file saved as '{filename}'")

        # Ask if user wants to play it
        play = input("Do you want to play the audio now? (y/n): ").lower()
        if play == 'y':
            playsound(filename)

        # Ask if user wants to download to another location
        move = input("Do you want to move/download the file to a different folder? (y/n): ").lower()
        if move == 'y':
            new_path = input("Enter the full path of the folder to move the file to: ")
            try:
                new_location = os.path.join(new_path, filename)
                os.rename(filename, new_location)
                print(f"‚úÖ File moved to {new_location}")
            except Exception as e:
                print(f"‚ùå Failed to move file: {e}")

    except Exception as e:
        print(f"‚ùå Error occurred: {e}")

if _name_ == "_main_":
    main()